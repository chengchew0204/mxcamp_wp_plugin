
<div class="calendar-post">


<!-- EventON Calendar --><div id='evcal_calendar_639' class='ajde_evcal_calendar boxy color tbg1 boxstyle0 box_5 ajax_loading_cal' ><div id='evcal_head' class='calendar_header ' ><div class='evo_cal_above'><span class='evo-search'></span><span class='evo-jumper-btn'>Jump Months</span><span class='evo-gototoday-btn evo_hide' style='display:none;' data-mo='8' data-yr='2025' data-dy=''>Current Month</span></div><div class='evo_cal_above_content'><div class='evo_j_container'>
						<div class='evo_j_months evo_j_dates' data-val='m'>
							<div class='legend evo_jumper_months'><a data-val='1' class='' title='jan'>jan</a><a data-val='2' class='' title='feb'>feb</a><a data-val='3' class='' title='mar'>mar</a><a data-val='4' class='' title='apr'>apr</a><a data-val='5' class='' title='may'>may</a><a data-val='6' class='' title='jun'>jun</a><a data-val='7' class='' title='jul'>jul</a><a data-val='8' class='current set' title='aug'>aug</a><a data-val='9' class='' title='sep'>sep</a><a data-val='10' class='' title='oct'>oct</a><a data-val='11' class='' title='nov'>nov</a><a data-val='12' class='' title='dec'>dec</a></div><div class='clear'></div></div>
						
						<div class='evo_j_years evo_j_dates' data-val='y'>
							<p class='legend'><a data-val="2023">2023</a><a data-val="2024">2024</a><a class='current set' data-val="2025">2025</a><a data-val="2026">2026</a><a data-val="2027">2027</a></p><div class='clear'></div>
						</div>
					</div>					
				<div class='evo_search_bar evo_hidden'>
					<div class='evo_search_bar_in'>
						
						<a class="evosr_search_clear_btn"><i class="fa fa-close"></i></a>
						<a class="evosr_search_btn"><i class="fa fa-search"></i></a>
					</div>
				</div>

			</div><div class='evo_header_title '><p id='evcal_cur' class='evo_month_title'> aug, 2025</p></div></div><div id='eventon_loadbar_section'><div id='eventon_loadbar'></div></div><div class='evo_ajax_load_events'><span></span><span></span><span></span></div><!-- Events List --><div id='evcal_list' 
					class='eventon_events_list'>			<div class='clear'></div>
			</div>
			<div class='clear'></div>
			
					 	<div id='evcal_footer' class='evo_bottom' style='display:none'>
		 		<div class='evo_cal_data' data-sc='{&quot;accord&quot;:&quot;no&quot;,&quot;bottom_nav&quot;:&quot;no&quot;,&quot;cal_id&quot;:&quot;&quot;,&quot;cal_init_nonajax&quot;:&quot;no&quot;,&quot;calendar_type&quot;:&quot;default&quot;,&quot;ep_fields&quot;:&quot;&quot;,&quot;etc_override&quot;:&quot;no&quot;,&quot;evc_open&quot;:&quot;yes&quot;,&quot;event_count&quot;:0,&quot;event_location&quot;:&quot;all&quot;,&quot;event_order&quot;:&quot;ASC&quot;,&quot;event_organizer&quot;:&quot;all&quot;,&quot;event_parts&quot;:&quot;no&quot;,&quot;event_past_future&quot;:&quot;all&quot;,&quot;event_status&quot;:&quot;all&quot;,&quot;event_tag&quot;:&quot;all&quot;,&quot;event_type&quot;:&quot;all&quot;,&quot;event_type_2&quot;:&quot;all&quot;,&quot;event_type_3&quot;:&quot;all&quot;,&quot;event_type_4&quot;:&quot;all&quot;,&quot;event_type_5&quot;:&quot;all&quot;,&quot;event_virtual&quot;:&quot;all&quot;,&quot;eventtop_date_style&quot;:0,&quot;eventtop_style&quot;:&quot;2&quot;,&quot;exp_jumper&quot;:&quot;yes&quot;,&quot;exp_so&quot;:&quot;no&quot;,&quot;filter_relationship&quot;:&quot;AND&quot;,&quot;filter_show_set_only&quot;:&quot;no&quot;,&quot;filter_type&quot;:&quot;default&quot;,&quot;filters&quot;:&quot;yes&quot;,&quot;fixed_month&quot;:&quot;8&quot;,&quot;fixed_year&quot;:&quot;2025&quot;,&quot;focus_end_date_range&quot;:&quot;1756706399&quot;,&quot;focus_start_date_range&quot;:&quot;1754028000&quot;,&quot;ft_event_priority&quot;:&quot;no&quot;,&quot;hide_arrows&quot;:&quot;no&quot;,&quot;hide_cancels&quot;:&quot;no&quot;,&quot;hide_empty_months&quot;:&quot;no&quot;,&quot;hide_end_time&quot;:&quot;no&quot;,&quot;hide_et_dn&quot;:&quot;no&quot;,&quot;hide_et_extra&quot;:&quot;no&quot;,&quot;hide_et_tags&quot;:&quot;no&quot;,&quot;hide_et_tl&quot;:&quot;no&quot;,&quot;hide_ft&quot;:&quot;no&quot;,&quot;hide_ft_img&quot;:&quot;no&quot;,&quot;hide_month_headers&quot;:&quot;no&quot;,&quot;hide_mult_occur&quot;:&quot;no&quot;,&quot;hide_past&quot;:&quot;no&quot;,&quot;hide_past_by&quot;:&quot;ee&quot;,&quot;hide_so&quot;:&quot;no&quot;,&quot;ics&quot;:&quot;no&quot;,&quot;jumper&quot;:&quot;yes&quot;,&quot;jumper_count&quot;:5,&quot;jumper_offset&quot;:&quot;0&quot;,&quot;lang&quot;:&quot;L1&quot;,&quot;layout_changer&quot;:&quot;no&quot;,&quot;livenow_bar&quot;:&quot;yes&quot;,&quot;mapformat&quot;:&quot;roadmap&quot;,&quot;mapiconurl&quot;:&quot;&quot;,&quot;maps_load&quot;:&quot;no&quot;,&quot;mapscroll&quot;:&quot;true&quot;,&quot;mapzoom&quot;:&quot;18&quot;,&quot;members_only&quot;:&quot;no&quot;,&quot;ml_priority&quot;:&quot;no&quot;,&quot;month_incre&quot;:0,&quot;number_of_months&quot;:&quot;1&quot;,&quot;only_ft&quot;:&quot;no&quot;,&quot;pec&quot;:&quot;&quot;,&quot;s&quot;:&quot;&quot;,&quot;search&quot;:&quot;&quot;,&quot;search_all&quot;:&quot;no&quot;,&quot;sep_month&quot;:&quot;no&quot;,&quot;show_et_ft_img&quot;:&quot;no&quot;,&quot;show_limit&quot;:&quot;no&quot;,&quot;show_limit_ajax&quot;:&quot;no&quot;,&quot;show_limit_paged&quot;:1,&quot;show_limit_redir&quot;:&quot;&quot;,&quot;show_repeats&quot;:&quot;no&quot;,&quot;show_upcoming&quot;:0,&quot;show_year&quot;:&quot;no&quot;,&quot;social_share&quot;:&quot;no&quot;,&quot;sort_by&quot;:&quot;sort_date&quot;,&quot;tile_bg&quot;:&quot;1&quot;,&quot;tile_bg_size&quot;:&quot;full&quot;,&quot;tile_count&quot;:&quot;5&quot;,&quot;tile_height&quot;:0,&quot;tile_style&quot;:0,&quot;tiles&quot;:&quot;yes&quot;,&quot;ux_val&quot;:&quot;0&quot;,&quot;wpml_l1&quot;:&quot;&quot;,&quot;wpml_l2&quot;:&quot;&quot;,&quot;wpml_l3&quot;:&quot;&quot;,&quot;yl_priority&quot;:&quot;no&quot;,&quot;fixed_day&quot;:&quot;5&quot;,&quot;_cver&quot;:&quot;2.2.21&quot;}'data-od='{&quot;lang_no_events&quot;:&quot;No Events&quot;,&quot;cal_tz_offset&quot;:-360,&quot;cal_tz&quot;:&quot;America\/Mexico_City&quot;}'></div>
		 		<div class='evo_cal_events' data-events=""></div>
		 	</div>
				
			
			
						</div><!-- EventON End -->
			
<!--





<p style="text-align: center;"><a style="text-decoration: none; color: #f5f5f5;" href="https://instagram.com/zipolitecamp" target="_blank" rel="noopener"><img style="width: 100%;" data-src="https://camp.mx/wp-content/uploads/2022/12/en-instag.png" alt="instagram" /></a></p>





--></div>
<!-- /wp:post-content -->



<!-- wp:html -->
<style>
    .fullscreen img.playbut{
    left: -10px;
    bottom: -7px;
    width: 100px;
    cursor: pointer;
    }
@media screen and (max-width:600px){
    .fullscreen img.playbut{
            left: 0;
	    bottom: 0;
	    width: 50px;
    }
}
	.videoplaying .playbut {
		display: none;
	}
    .fullscreen .pausebut {
        position: absolute;
		left: 5px;
		bottom: 5px;
		width: 30px;
		cursor: pointer;
		display: none;
		background: rgba(0, 0, 0, 0.6);
		border-radius: 50%;
		padding: 7px;
    }
	
	.videoplaying.fullscreen:hover .pausebut {
		display: block;
	}

 .evocard_row .fullscreen .timevideo {
    margin-top: 5px !important;
    position: absolute !important;
    bottom: 0 !important;
    top: unset !important;
    right: 0 !important;
    font-size: 15px !important;
    z-index: 10 !important;
    display: none;
}
	.fullscreen .timevideo  {
		color: #F5f5f5 !important;
	}
    .videoplaying:hover .timevideo {
	    display: block;
	}
	

</style>
<script>

function setOnClickOutside(ele, cb) {
    document.addEventListener('click', callback = (event) => {
        event.stopPropagation()
        let parent = document.getElementsByClassName("eventcard eventon_events_list show")[0]
            if (parent) {
                let el = parent.getElementsByClassName(ele)[0]
              //  console.log("el",el)
                if (el && !el.contains(event.target)) {
                    cb();
                 // event.source.removeEventListener('click', callback);
                 }
            }

    });
};

setOnClickOutside(
    'evolb_content evo_lightbox_body eventon_list_event',
    () => {
        let active_card = document.getElementsByClassName('eventcard eventon_events_list show')[0];
        if (active_card) {
            let closeButton = active_card.getElementsByClassName('evolb_close_btn')[0]
            console.log("ActiveCardCloseButton", closeButton)
            closeButton.click()
        }
    }
);

function goToJan() {
    let janEl = document.querySelector(`.legend.evo_jumper_months a`)
    janEl.click()
}

const yearEls = document.querySelectorAll(".evo_j_years .legend a")
yearEls.forEach((yearEl) => yearEl.addEventListener("click", () => setTimeout(goToJan,500)))




function replaceByVideo(){
    let checkIfCalendarExist = setInterval(lookForIt, 100);
    

    function lookForIt(){
        let eventLightBox = document.getElementById('evo_lightboxes');
        
        if(eventLightBox){
            //Interval pour chercher l'élément
            clearInterval(checkIfCalendarExist);
            replaceNow();
        }else{
            console.log('searching evo_lightboxes');
        }
    }


    
    function replaceNow(){
        function searchAndReplace(){
gtag('event', 'click', {
        'event_category': 'Event Card',
        'event_label': 'Event Card opened',
        'value': 1
      });


            let eventLightBox = document.getElementById('evo_lightboxes');
            let thisvideo = eventLightBox.querySelector('.eventon_full_description video.video-events-grid');
            if(thisvideo && thisvideo!=''){

                //initialisation du spiner
                let spinnerContainer =  document.createElement('div');
                let spinner = `<img decoding="async" src="/img/oval.svg" style="width: 70px;height: auto; margin:auto">`;
                spinnerContainer.innerHTML=spinner;
                spinnerContainer.classList.add('card-video-loader');
                
                thisvideo.removeAttribute("controls");

                //thisvideo.controls = "controls";

                //thisvideo.classList.remove('video-events-grid');
                //onprepare son parent fullscreen
              //  thisvideo.controls = false;
                let fullScreenDiv = document.createElement('div');
                fullScreenDiv.classList.add('fullscreen', 'videoplaying');

                //oncherche son futur emplacement
                let thisHeader = eventLightBox.querySelector('.evocard_box.ftimage > div');
                fullScreenDiv.appendChild(thisvideo);
                fullScreenDiv.appendChild(spinnerContainer);
                thisvideo.volume = 0.5;
                thisvideo.muted = false;
                setTimeout(() => {
		    thisvideo.play();
		}, 1000);
                var controlsVisible = false;
                thisvideo.addEventListener('timeupdate', function () {
                    if (thisvideo.currentTime >= 0.5 && !controlsVisible) {
                        controlsVisible = false;
                        spinnerContainer.style.display="none";
                      }
                });
                thisHeader.appendChild(fullScreenDiv);

 //a add preview image to the poster
     if(thisvideo.poster.length<20)
{
       thisvideo.poster=thisHeader.childNodes[0].src;
       console.log("replacing empty poster with "+thisvideo.poster);
 }
  // replacing main image with poster image so that video take fullscreen view
     if(thisvideo.poster.length>20)
       {
           setTimeout(() => {
              thisHeader.childNodes[0].style.display='none'; //hide image
	}, 1000);
          fullScreenDiv.style.position='relative';
          console.log("hiding image, displaying poster:"+thisvideo.poster);
       } 
                let playbut = document.createElement('img');
            	playbut.setAttribute('src', 'https://camp.mx/wp-content/uploads/play-2.png');
            	playbut.classList.add('playbut');
            	playbut.style.position = 'absolute';
			   
	        let pausebut= document.createElement('img');
            	pausebut.setAttribute('src', 'https://camp.mx/wp-content/uploads/pause.svg');
            	pausebut.classList.add('pausebut');
			   
	        function playVideo() {
		    let divplaying = document.querySelectorAll('.videoplaying');
                    // Parcourir chaque vidéo pour vérifier si elle est en cours de lecture
                    divplaying.forEach(div => {
                        div.classList.remove('videoplaying');
                    });
                    thisvideo.play();
                    thisvideo.closest(".fullscreen").classList.add('videoplaying');
		}

	        function pauseVideo(){
                    thisvideo.pause();
                    let divplaying = document.querySelectorAll('.videoplaying');
                    // Parcourir chaque vidéo pour vérifier si elle est en cours de lecture
                    divplaying.forEach(div => {
                        div.classList.remove('videoplaying');
                    });
                }
			   
	        playbut.addEventListener('click',  (event)=>{
                    event.preventDefault();
                    playVideo();
           	});
		pausebut.addEventListener('click', (event)=> {
		    event.preventDefault();
		    pauseVideo();
		});
	
           // Crée l'affichage du temps
            const timeDisplay = document.createElement('p');
            timeDisplay.classList.add('timevideo');

            fullScreenDiv.appendChild(timeDisplay);
            fullScreenDiv.appendChild(playbut);
            fullScreenDiv.appendChild(pausebut);

            // Affiche la durée totale lorsque les métadonnées de la vidéo sont chargées
            thisvideo.addEventListener('loadedmetadata', function() {
                const durationMinutes = Math.floor(thisvideo.duration / 60);
                const durationSeconds = Math.floor(thisvideo.duration % 60);

                timeDisplay.textContent = `${durationMinutes}:${durationSeconds.toString().padStart(2, '0')}`;
               console.log("Video duration:"+thisvideo.duration);
               //add video controls for large videos
                        if(thisvideo.duration>120) // min duration to activate controls
                         {
                           thisvideo.controls = "controls";
                           controlsVisible=true;
                           //hide our video controls
                           document.querySelector('.timevideo').style.display='none'
                           document.querySelector('.pausebut').style.display='none';
                           console.log("Activating Video controls");
                         }
            });

            // Ajoute un écouteur d'événement pour mettre à jour la barre de progression et le temps restant
            thisvideo.addEventListener('timeupdate', function () {
                // Calcul du pourcentage de progression en fonction du temps écoulé
                const elapsedTime = thisvideo.currentTime; // Temps écoulé
                const totalTime = thisvideo.duration; // Durée totale


                // Calcule le temps restant
                const remainingTime = totalTime - elapsedTime;
                const remainingMinutes = Math.floor(remainingTime / 60);
                const remainingSeconds = Math.floor(remainingTime % 60);

                // Affiche le temps restant
                timeDisplay.textContent = `${remainingMinutes}:${remainingSeconds.toString().padStart(2, '0')}`;
            });     
            }else{
             //   console.log('pas delement video trouve');
            }

        }
        let targetNode = document.getElementById('evo_lightboxes');
        //element trouver, on lui attribut un event
        const config = { attributes: true, childList: true, subtree: true };

        // Callback function to execute when mutations are observed
        const callback = (mutationList, observer) => {
          for (const mutation of mutationList) {
            if (mutation.type === "childList") {
              searchAndReplace();
            } else if (mutation.type === "attributes") {
             // console.log(`The ${mutation.attributeName} attribute was modified.`);
            }
          }
        };
        
        // Create an observer instance linked to the callback function
        const observer = new MutationObserver(callback);

        
        // Start observing the target node for configured mutations
        try {
            observer.observe(targetNode, config);
        } catch (e) {
            console.log("Observer can't OBSERVE:", e)
        }
        
        // Later, you can stop observing
//        observer.disconnect();

        
    }
}
replaceByVideo();

function removeMonthTitles() {
    const monthElements = document.querySelectorAll(".evo_jumper_months a")
    monthElements.forEach((el) => el.removeAttribute("title"))
}
removeMonthTitles()

</script>
<style>
.ajde_evcal_calendar.boxy .eventon_list_event.event {
    aspect-ratio:4/5 !important;
    width:auto!important;
    min-height:unset !important;
    background-repeat: no-repeat;
}
.evo_metarow_directimg.evcal_evdata_row {
    padding: 0!important;
    height: auto;
}
.desc_trig_outter{
    background-repeat: no-repeat;
    background-size: cover !important;
    background-position-x: center;
}
.evcal_evdata_img, .ftimage {
    aspect-ratio:auto !important;
}
div.fullscreen {
    aspect-ratio:auto !important;
    height: 100%;
}
.fullscreen video {
    height: auto !important;
    left: 0;
    object-fit: cover;
    top: 0;
    position: relative;
    transform: none;
    transition: none;
    width: 100%;
    z-index: 0;
}
</style>
<div class="tap-bottom" style="height:400px;width:120%; margin-left:-10%; margin-right:-10%; position:relative"></div>
<!-- /wp:html -->